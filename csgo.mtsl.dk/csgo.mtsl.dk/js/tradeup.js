import{getItem as t,getItemContainer as e,giveItem as n,removeItemsFromInventory as o,renderItem as r,selectItems as a}from"/js/items.js?v=2.19";import{showPage as i}from"/script.js?v=2.19";import{createNotification as c}from"./notifications.js?v=2.19";import{addStat as s}from"/js/stats.js?v=2.19";import{Pages as u}from"/js/pages.js?v=2.19";const l=u.createPage("tradeup");l.q(".center",[q("h1",{text:"Trade Up"}),q("p.subtitle",{text:"Sign a trade up contract with 10 items of the same tier, and get a random item of the tier above."})]);const m=l.q(".tu-contract");function f(){m.innerHTML="";const u=m.q(".tu-contract-slots");for(let t=0;t<10;t++)u.q(".tu-contract-slot");u.q(".tu-contract-add-items-hero").q("button.button","Select items to trade up",{onclick(){a(false,false,10,10,true,false).then((a=>{u.innerHTML="";for(let t=0;t<10;t++)u.q(".tu-contract-slot").appendChild(r(a[t]));i("tradeup",true);m.q([q("button.tu-contract-confirm-button","Confirm!",{onclick(){const r=a[0].rarity+1;let i=5;let u=0;const l=a.map((t=>{i=Math.min(i,t.quality);u=Math.max(u,t.quality);return e(t.name)})).flat();const m=l[Math.floor(Math.random()*l.length)];const h=t(m).content.items.filter((e=>{let n=t(e);return n.rarity===r&&n.quality>=i&&n.quality<=u}));if(h.length===0){c({message:"There doesn't exist any skin you can receive with your input. Your items have been returned."});f();return}let p=h[Math.floor(Math.random()*h.length)];if(p){n(p,1,true);s("tradeups");o(a.map((t=>t.name)))}f()}}),q("button.tu-contract-cancel-button","Cancel!",{onclick(){f()}})])}))}})}f();