import{goToPreviousPage as n,showPage as t}from"/script.js?v=2.19";import{game as e}from"/js/game.js?v=2.19";import{renderItem as i}from"/js/items.js?v=2.19";import{Pages as o}from"/js/pages.js?v=2.19";const r=o.createPage("winnings");const a=r.q("button.button.back-btn",{text:"Go to inventory",onclick(){t("inventory")}});const l=r.q(".center.title").q("h1",{text:"Winnings"});const s=r.q(".winnings-controls");const c=r.q(".winnings-list");export function displayWinnings({title:n,returnBtn:e,items:o,sortBy:r}){l.innerText=n||"Winnings";a.onclick=()=>t(e.page||"inventory");a.innerText=e.text||"Go to inventory";s.innerHTML="";let u=50;let g=0;s.q("button.button",{text:"Prev",onclick(){h(--g);p.value=g+1+"/"+Math.floor((o.length-1)/u+1)}});let p=s.q("input.num-input",{value:1,onfocus(){p.value=g+1},oninput(){let n=Math.max(0,Math.min(Math.floor((o.length-1)/u)||0,parseInt(this.value)-1));g=n;f(u*n,u*(n+1)-1)},onblur(){h(parseInt(this.value)-1);p.value=g+1+"/"+Math.floor((o.length-1)/u+1)}});s.q("button.button",{text:"Next",onclick(){h(++g);p.value=g+1+"/"+Math.floor((o.length-1)/u+1)}});p.value=g+1+"/"+Math.floor((o.length-1)/u+1);function h(n){n=Math.max(0,Math.min(Math.floor((o.length-1)/u),n));g=n;f(u*n,u*(n+1)-1)}o.sort(((n,t)=>t.price-n.price));function f(n,t){c.innerHTML="";for(let e=n;e<=Math.min(o.length-1,t);e++){let n=i(o[e],{clickable:true});c.appendChild(n)}}f(0,99);t("winnings")}function u(){l.innerHTML="Winnings";a.onclick=()=>n();a.innerText="Go back";s.innerHTML="";c.innerHTML="Sorry, to keep up performance, you can't see winnings again!"}e.on("showPage",(n=>{if(n.page!=="winnings"&&n.page!=="inspect"&&n.page!=="about")u()}));