import{addStat as t}from"/js/stats.js?v=2.19";import{game as n}from"/js/game.js?v=2.19";import{goToPreviousPage as e,numToValuta as i,showPage as o,user as a}from"/script.js?v=2.19";import{removeItemsFromInventory as r,selectItems as s}from"/js/items.js?v=2.19";import{Pages as c}from"/js/pages.js?v=2.19";import{openCoinflip as l}from"/js/coinflip.js?v=2.19";import{getCurrency as p}from"/js/prefs.js?v=2.19";const g=c.createPage("casino-withdraw");const m=g.q(".center.center-v");g.q("button.button.back-btn",{text:"Back",onclick(){e()}});m.q("h1",{style:{paddingTop:"0px"},text:"Casino Withdraw"});m.q("div.withdraw-conversion",{children:[q("img.withdraw-c-left",{src:"images/tokens.png"}),q("img.withdraw-c-center",{src:"images/arrow-right.png"}),q("span.withdraw-c-right",{text:p()})]});m.q("div.withdraw-description",{text:"Withdraw Cash from the Casino, by turning in your chips."});m.q("div.withdraw-description",{text:"8 Chips are worth "+i(100,2)});const d=m.q("input.input",{placeholder:"0",oninput:u,onkeyup(t){if(t.key==="Enter")f()}});const h=m.q("button.button",{text:"Withdraw",style:{marginTop:"10px"},onclick:f});function u(){const t=Math.abs(parseInt(d.value));const n=t>0&&t<=a.tokens;h.disabled=!n;if(n)h.innerText=`Withdraw ${i(t/8*100,2)}`;return n}function f(){if(u()){const e=Math.abs(parseInt(d.value));a.money+=e/8*100;t("withdrawn_from_chips",e/8*100);a.tokens-=e;a.tokens=Math.round(a.tokens);n.emit("update");d.value=Math.floor(a.tokens);u()}}export function openWithdrawPrompt(){d.value=Math.floor(a.tokens);u();o("casino-withdraw")}export async function tradeIn(){const i=await s(0,false,Infinity,1,false,false,true);let o=0;i.forEach((t=>o+=t.price));t("skins_tradein",o);t("skins_tradein_amount",i.length);a.tokens=Math.round(a.tokens+o/100*8);r(i.map((t=>t.name)));n.emit("update");e()}const x=c.createPage("betting");const b=x.q(".center.center-v");b.q("h1",{style:{paddingTop:"0px"},text:"Casino"});b.q({style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:[q("button.button",{text:"Trade in skins to Chips",onclick:tradeIn}),q("button.button",{text:"Withdraw Casino Chips to "+p(),onclick:openWithdrawPrompt})]});const k=b.q(".betting-cols");k.q({children:[q("p",{style:{fontSize:"14px",marginBottom:"16px",color:"#999",textAlign:"center"},text:"GAMES"}),q(".betting-game",{children:[q().q("img",{src:"images/coin_ctt.png",alt:"Coinflip"}),q("button",{text:"Play Coinflip Offline",onclick(){l()}})]}),q(".betting-game",{children:[q().q("img",{src:"images/roulette.png",alt:"Roulette"}),q("button",{text:"Play Roulette",onclick(){o("roulette")}})]}),q(".betting-game",{children:[q().q("img",{src:"images/slots.png",alt:"Slots"}),q("button",{text:"Play Slot Machine",onclick(){o("slots")}})]}),q(".betting-game",{children:[q().q("img",{src:"images/dice.png",alt:"Jackpot"}),q("button",{text:"Play Jackpot",onclick(){o("jackpot")}})]}),q(".betting-game",{children:[q().q("img",{src:"images/crash.png",alt:"Crash"}),q("button",{text:"Play Crash",onclick(){o("crash")}})]}),q(".betting-game",{children:[q().q("img",{src:"images/bomb.png",alt:"Mines"}),q("button",{text:"Play Mines",onclick(){o("mines")}})]})]});k.q({children:[q("p",{style:{fontSize:"14px",marginBottom:"16px",color:"#999",textAlign:"center"},text:"ONLINE GAMES"}),q(".betting-game",{children:[q().q("img",{src:"images/coin_ctt.png",alt:"Coinflip"}),q("button",{text:"Play Online Coinflip 1v1",onclick(){o("coinflip-online")}})]}),q(".betting-game",{children:[q().q("img",{src:"images/jackpot.png",alt:"Coinflip"}),q("button",{text:"Play Online Jackpot",onclick(){o("jackpot-online")},children:[q("span",{text:"NEW!",style:{color:"#000",fontWeight:"600",background:"#fc0",padding:"2px 3px",borderRadius:"2px",marginLeft:"10px"}})]})]})]});