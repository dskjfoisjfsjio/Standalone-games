import{Pages as e}from"/js/pages.js?v=2.19";import{getItem as t,giveItemsWorth as o,renderItem as n}from"/js/items.js?v=2.19";import{currentPage as a}from"/script.js?v=2.19";import{clearProfilePicture as r,displayPopup as i,updateProfilePicture as l}from"/js/online/profile.js?v=2.19";import{game as c}from"/js/game.js?v=2.19";import{user as s}from"/script.js?v=2.19";import{promptOnlineKey as p}from"/js/online/online.js?v=2.19";import{showErrorLog as d}from"/js/helper/error.js?v=2.19";const u=e.createPage("about");u.q("h1","Case Clicker 2 Settings");const m=u.q("#about-settings");const b=m.q(".floating-item-example",[q("i","Item Card Example"),q("#floating-item-example")]);c.once("items-loaded",(()=>{b.appendChild(n(t("StatTrak USP-S | Neo-Noir (Factory New)")))}));m.q("h2","Settings");m.q("br");const f=m.q("p").q("b","Graphics Level: ").q("span");m.q({style:{display:"flex"},children:[q("button.combo-button",{text:"Lowest (& less animations)",onclick(){g(0)}}),q("button.combo-button",{text:"Low",onclick(){g(1)}}),q("button.combo-button",{text:"Normal",onclick(){g(2)}}),q("button.combo-button",{html:"<i>Ultra</i>",onclick(){g(3)}})]});function g(e){e=parseInt(e);for(let e=1;e<=3;e++)document.body.classList.remove("graphics-level-"+e);for(let t=1;t<=e;t++)document.body.classList.add("graphics-level-"+t);localStorage.graphicsLevel=e;window.graphicsLevel=e;f.innerText=["Lowest & Less animations","Low","Normal","Ultra"][e]}g(localStorage.graphicsLevel||1);m.q("br");m.q("p").q("b","Currency");const y=m.q("select",{children:[q("option",{text:"Euro: â‚¬",value:"euro",selected:localStorage.prefcurrency==="euro"}),q("option",{text:"Dollar: $",value:"dollar",selected:localStorage.prefcurrency==="dollar"})],oninput(){localStorage.prefcurrency=y.value;h.classList.remove("hidden")}});const h=m.q("p.hidden","Please reload to update the currency everywhere.");m.q("br");m.q("br");m.q("p").q("b","Always Compact?");const v=m.q("button.button.n",{text:"Toggle Compact",onclick(){setAlwaysCompact(!alwaysCompact)}});m.q("br");m.q("br");export let alwaysCompact=false;export function setAlwaysCompact(e){e=e+""==="true";localStorage.compactMode=e;alwaysCompact=e;compact()}setAlwaysCompact(localStorage.compactMode||false);window.addEventListener("resize",(()=>compact()));export function compact(){if(window.innerHeight<=850||window.innerWidth<=1150){v.innerText="Compact is enabled by default due to screen resolution";v.disabled=true}else{v.innerText="Toggle Compact";v.disabled=false}document.body.classList.toggle("compact",window.innerHeight<=850||window.innerWidth<=1150||alwaysCompact);document.body.classList.toggle("natural-compact",window.innerHeight<=850||window.innerWidth<=1150)}compact();m.q("p").q("b","Enter Code");const x=m.q("input.input",{type:"text",style:{margin:"0px"}});m.q("button.button",{text:"Enter",click(){let e=x.value;if(e.length===16){fetch("https://csgo.mtsl.dk/api/v15/giftme.asp?code="+e).then((e=>e.json())).then((e=>{if(e.success){if(e.type==="MONEY")s.money+=parseInt(e.value);if(e.type==="XP")s.xp+=parseInt(e.value);if(e.type==="WORTH")o(parseInt(e.value));w.innerText="The code worked!"}else w.innerText=e.description}))}else{w.innerText="This code is invalid, you have likely typed it in wrong."}}});const w=m.q();m.q("br");m.q("p").q("b","Save");const k=m.q("p","Compressed save size: ").q("span","...");m.q("p",{text:"Sell items to reduce the save size, and to improve performance.",style:{color:"#999",fontSize:"13px",marginBottom:"6px"}});m.q("button.button.n",{text:"Backup or transfer your save",onclick(){saveNow();const e=new Blob([localStorage.localsave]);const t=URL.createObjectURL(e);const o=document.createElement("a");o.href=t;o.download="caseclicker.save";o.click()}});m.q("button.button.n.red",{text:"Load save",onclick(){const e=document.createElement("input");e.type="file";e.accept=".save";e.addEventListener("input",(()=>{const t=e.files[0];if(t){t.text().then((e=>{if(confirm("Are you sure, you want to load this save? This will overwrite the current save and cannot be undone.")){overwriteSave(e)}}))}}));e.click()}});m.q("button.button.n.red",{text:"Wipe your save",onclick(){if(confirm("Are you sure? This cannot be undone.")){wipeSave()}}});m.q("br");m.q("br");setInterval((()=>{let e=new Blob([localStorage.localsave]).size/1e3;let t=new Blob([JSON.stringify(s)]).size/1e3;if(a==="about")k.innerText=`~${e.toFixed(2)} kB (${((e-t)/t*100).toFixed(1)}%)`}),2e3);m.q("p").q("b","Profile");m.q("button.button.n",{text:"Change name",onclick(){i(true)}});m.q("button.button.n",{text:"Update profile picture",onclick(){l()}});m.q("button.button.n",{text:"Remove profile picture",onclick(){r()}});m.q("p",{text:"Profile pictures are currently stored locally, and aren't yet used for online features. They may be uploaded and used for online features in the future.",style:{color:"#999",fontSize:"13px"}});m.q("p").q("b","Online");m.q("button.button.n",{text:"Reset Online Key",onclick(){if(!s.online.key||s.online.keyCreated+60*1e3<Date.now()){delete s.online.key;p()}}});const C=u.q("#about-changelog");C.q("h2","Changelog");C.q("br");C.q("a",{href:"/changelog.txt",target:"_blank"}).q("button.button.n","See changelog");const S=u.q("#about-credits");S.q("p",{children:["Created By ",q("a",{href:"//mtsl.dk",text:"Malthe"})]});S.q("p","Contact me via mail at malthe@mtsl.dk");S.q("br");S.q("p",{children:["Some icons are from ",q("a",{href:"//icons8.com",text:"icons8.com"})]});S.q("br");S.q("p","The images used for skins and items are property of Valve Corp, and provided via the Steam Marketplace.");S.q("p","This site is not associated with Valve Corp.");m.q("br");m.q("br");m.q("p").q("b","Cookies?");m.q([q("p",{style:{color:"#bbb"},text:"This website uses cookies to store your save file, and optionally for analytics, so I can see how many are playing my games."}),q("p",{style:{color:"#bbb"}},["Cookies for analytics: ",q("a",{href:"#",text:"Allow",onclick(){localStorage.cookiesAccepted="1";gtag("consent","update",{analytics_storage:"granted"})}}),q("a",{style:{marginLeft:"6px"},href:"#",text:"Deny",onclick(){localStorage.cookiesAccepted="2";gtag("consent","update",{analytics_storage:"denied"})}})])]);m.q("br");m.q("p").q("b","Error Log");m.q([q("p",{style:{color:"#bbb"},text:"Help me track errors."}),q("p",{style:{color:"#bbb"}},["If something doesn't work, the error log might help me fix it!",q("button.button",{text:"Get Error Log",onclick(){d()}})])]);