import e from"/js/select.js?v=2.19";const t=[{$daily:true,category:"Daily Discounts"},{item:"Danger Zone Case",category:"Starter Cases",categoryDescription:"The eight cheapest cases, available without level requirements until level ten.",level:0,maxLevel:10},{$dailyStickers:true,category:"Daily Sticker Capsules"},{item:"Falchion Case",category:"Starter Cases",level:0,maxLevel:10},{item:"Horizon Case",category:"Starter Cases",level:0,maxLevel:10},{item:"Shadow Case",category:"Starter Cases",level:0,maxLevel:10},{item:"CS20 Case",category:"Starter Cases",level:0,maxLevel:10},{item:"Clutch Case",category:"Starter Cases",level:0,maxLevel:10},{item:"Revolver Case",category:"Starter Cases",level:0,maxLevel:10},{item:"Glove Case",category:"Starter Cases",level:0,maxLevel:10},{item:"The Bank Collection",category:"Collections",level:2},{item:"The Aztec Collection",category:"Collections",level:3},{item:"The Train Collection",category:"Collections",level:4},{item:"The Mirage Collection",category:"Collections",level:5},{item:"The Inferno Collection",category:"Collections",level:6},{item:"The 2021 Dust 2 Collection",category:"Collections",level:7},{item:"The Havoc Collection",category:"Collections",level:8},{item:"The Vertigo Collection",category:"Collections",level:9},{item:"The 2021 Vertigo Collection",category:"Collections",level:10},{item:"The Rising Sun Collection",category:"Collections",level:11},{item:"The Nuke Collection",category:"Collections",level:12},{item:"The 2021 Train Collection",category:"Collections",level:13},{item:"The Overpass Collection",category:"Collections",level:14},{item:"The Office Collection",category:"Collections",level:15},{item:"The 2018 Inferno Collection",category:"Collections",level:16},{item:"The St. Marc Collection",category:"Collections",level:17},{item:"The Militia Collection",category:"Collections",level:18},{item:"The 2018 Nuke Collection",category:"Collections",level:19},{item:"The Norse Collection",category:"Collections",level:20},{item:"The Dust Collection",category:"Collections",level:21},{item:"The Dust 2 Collection",category:"Collections",level:22},{item:"The Gods and Monsters Collection",category:"Collections",level:23},{item:"The Assault Collection",category:"Collections",level:24},{item:"The Cache Collection",category:"Collections",level:25},{item:"The Cobblestone Collection",category:"Collections",level:26},{item:"The Alpha Collection",category:"Collections",level:26},{item:"The Chop Shop Collection",category:"Collections",level:27},{item:"The 2021 Mirage Collection",category:"Collections",level:28},{item:"The Ancient Collection",category:"Collections",level:29},{item:"The Baggage Collection",category:"Collections",level:30},{item:"The Control Collection",category:"Collections",level:31},{item:"The Canals Collection",category:"Collections",level:32},{item:"The Lake Collection",category:"Collections",level:33},{item:"The Safehouse Collection",category:"Collections",level:34},{item:"The Italy Collection",category:"Collections",level:35},{item:"Anubis Collection Package",category:"Collections",level:36},{$unlockedCapsules:true,category:"Capsules"},{item:"CS:GO Weapon Case",category:"Cases",level:1},{item:"Operation Bravo Case",category:"Cases",level:2},{item:"CS:GO Weapon Case 2",category:"Cases",level:3},{item:"Winter Offensive Weapon Case",category:"Cases",level:4},{item:"CS:GO Weapon Case 3",category:"Cases",level:5},{item:"eSports 2013 Case",category:"Cases",level:5},{item:"Operation Phoenix Weapon Case",category:"Cases",level:6},{item:"Huntsman Weapon Case",category:"Cases",level:7},{item:"Operation Breakout Weapon Case",category:"Cases",level:8},{item:"Operation Vanguard Weapon Case",category:"Cases",level:9},{item:"Chroma Case",category:"Cases",level:10},{item:"eSports 2013 Winter Case",category:"Cases",level:10},{item:"Chroma 2 Case",category:"Cases",level:11},{item:"Falchion Case",category:"Cases",level:12},{item:"Shadow Case",category:"Cases",level:13},{item:"Revolver Case",category:"Cases",level:14},{item:"Operation Wildfire Case",category:"Cases",level:15},{item:"eSports 2014 Summer Case",category:"Cases",level:15},{item:"Chroma 3 Case",category:"Cases",level:16},{item:"Gamma Case",category:"Cases",level:17},{item:"Gamma 2 Case",category:"Cases",level:18},{item:"Glove Case",category:"Cases",level:19},{item:"Spectrum Case",category:"Cases",level:20},{item:"Dreams & Nightmares Case",category:"Cases",level:20},{item:"Operation Hydra Case",category:"Cases",level:21},{item:"Spectrum 2 Case",category:"Cases",level:22},{item:"Clutch Case",category:"Cases",level:23},{item:"Horizon Case",category:"Cases",level:24},{item:"Danger Zone Case",category:"Cases",level:25},{item:"Prisma Case",category:"Cases",level:25},{item:"CS20 Case",category:"Cases",level:26},{item:"Shattered Web Case",category:"Cases",level:27},{item:"Prisma 2 Case",category:"Cases",level:28},{item:"Fracture Case",category:"Cases",level:29},{item:"Operation Broken Fang Case",category:"Cases",level:30},{item:"Snakebite Case",category:"Cases",level:30},{item:"Operation Riptide Case",category:"Cases",level:31},{item:"Recoil Case",category:"Cases",level:32},{item:"Revolution Case",category:"Cases",level:33},{item:"Kilowatt Case",category:"Cases",level:34}];import{getItem as l,renderItem as o}from"/js/items.js?v=2.19";import{game as a}from"/js/game.js?v=2.19";import{getPlayerLevel as s,user as i}from"/script.js?v=2.19";import{Pages as c}from"/js/pages.js?v=2.19";import{items as n}from"/data/items.js?v=2.19";const r=c.createPage("shop");r.q("#shop-title","Shop");const C=r.q("#shop-controls",{children:[q(".button-left-label",{text:"Buy Multiple:"}),q(".combo-button",{text:"x1",onclick(){S(1)}}),q(".combo-button",{text:"x5",onclick(){S(5)}}),q(".combo-button",{text:"x25",onclick(){S(25)}}),qn("buy-250",".combo-button",{text:"x250",style:{display:"none"},onclick(){S(250)}}),qn("buy-2500",".combo-button",{text:"x2500",style:{display:"none"},onclick(){S(2500)}})]});const m=r.q("#shop-container");if(!localStorage.shop)localStorage.shop=JSON.stringify({dailyItems:[],day:0});let y=JSON.parse(localStorage.shop);let g;function v(){return g.splice(Math.floor(Math.random()*g.length),1)[0]}let p;function u(){return p.splice(Math.floor(Math.random()*p.length),1)[0]}function h(){const e=Math.floor((new Date).getTime()/1e3/60/60/24);if(y.day<e){g=Object.values(n).filter((e=>e.type==="case"&&!e.name.endsWith("Collection"))).map((e=>e.name));p=Object.values(n).filter((e=>e.type==="capsule")).map((e=>e.name));y={dailyItems:new Array(8).fill().map((()=>v())),dailyStickers:new Array(8).fill().map((()=>u())),day:e};localStorage.shop=JSON.stringify(y);S()}}function d(){let e=1-(new Date).getTime()/1e3/60/60/24%1;return Math.floor(e*24)+":"+Math.floor(e*24*60%60).toString().padStart(2,"0")+"."+Math.floor(e*24*60*60%60).toString().padStart(2,"0")}let f=q("span.category-title-time");setInterval((()=>{f.innerText="Resets in "+d();h()}),1e3);let k=1;function S(e){C.qget("buy-250").style.display=i.upgrades.shopBuy>=250?"inherit":"none";C.qget("buy-2500").style.display=i.upgrades.shopBuy>=2500?"inherit":"none";k=e||k;let a={};m.innerHTML="";for(let e=0;e<t.length;e++){if((t[e].$dailyStickers||t[e].$unlockedCapsules)&&i.upgrades.unlockStickers===0)continue;if(t[e].maxLevel&&t[e].maxLevel<=s().level)continue;if(!a[t[e].category]){a[t[e].category]=m.q(".category",[q(".category-title",{children:[q("span",{text:t[e].category}),t[e].$daily&&q("span.shop-discount","-20%"),t[e].$daily&&f]}),q(".category-description",{text:t[e].category==="Collections"&&i.upgrades.unlockCollections===0?"Collections are locked. Buy the Unlock: Collections upgrade to unlock this section of the shop.":t[e].$unlockedCapsules&&i.unlockedCapsules.length===0?"Permenantly unlock capsules by completing missions!":t[e].categoryDescription,style:{display:t[e].category==="Collections"&&i.upgrades.unlockCollections===0||t[e].$unlockedCapsules&&i.unlockedCapsules.length===0?true:t[e].categoryDescription||"none"}})]).q(".category-items")}if(t[e].$daily){y.dailyItems.forEach(((i,c)=>{if(!l(i)){console.log("SHOP : item not found : "+i);return false}const n=o(l(i),{buy:true,buyAmount:k,noOptionalCompact:true,buyPrice:l(i).price*T(),preDiscountPrice:Math.ceil(l(i).price*1.25*T())});a[t[e].category].appendChild(n);if((c>=3?c:0)&&s().level<(c>=3?c:0)){n.classList.add("locked");n.q(".item-locked",{html:`<span class="item-locked-title">Locked!</span><span class="item-locked-description">Reach level ${c>=3?c:0} to unlock daily slot ${c+1}!</span>`})}}))}else if(t[e].$dailyStickers){y.dailyStickers.forEach((s=>{const i=o(l(s),{buy:true,buyAmount:k,noOptionalCompact:true,buyPrice:l(s).price*T()});a[t[e].category].appendChild(i)}))}else if(t[e].$unlockedCapsules){i.unlockedCapsules.forEach((s=>{const i=o(l(s),{buy:true,buyAmount:k,noOptionalCompact:true,buyPrice:l(s).price*T()});a[t[e].category].appendChild(i)}))}else if(t[e].category==="Collections"&&i.upgrades.unlockCollections===0){}else{let i=o(l(t[e].item),{buy:true,buyDisabled:t[e].level&&s().level<t[e].level,buyAmount:k,buyPrice:Math.ceil(l(t[e].item).price*1.25*T())});if(t[e].level&&s().level<t[e].level){i.classList.add("locked");i.q(".item-locked",{html:`<span class="item-locked-title">Locked!</span><span class="item-locked-description">Reach level ${t[e].level} to unlock this item!</span>`})}a[t[e].category].appendChild(i)}}}function T(){return 1.1-i.upgrades.shopDiscount}a.on("showPage",(e=>e.page==="shop"&&S()));