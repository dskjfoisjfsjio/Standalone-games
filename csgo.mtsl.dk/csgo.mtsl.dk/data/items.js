import{lzw_decode as e}from"/js/encode.js?v=2.19";export let items={};document.getElementById("loading-status").innerText="Preparing load...";let t=0;let n=0;let o=[];function d(d,s=0,i=false){const a=new XMLHttpRequest;a.onprogress=e=>{o[s]=[e.total,e.loaded];let t=o.reduce(((e,t)=>e+t[0]),0);let n=o.reduce(((e,t)=>e+t[1]),0);document.getElementById("loading-text").innerHTML=`Loading... ${Math.round(n/t*100)}%`;document.getElementById("loading-status").innerHTML=`Loaded data (${Math.ceil(n/1e3)} kB/${Math.ceil(t/1e3)} kB)...`;document.getElementById("loading-progress").style.width=n/t*100+"%"};a.onload=()=>{if(n===t-1){document.getElementById("loading-text").innerHTML="Nearly there...";document.getElementById("loading-status").innerHTML="Decoding..."}setTimeout((()=>{let o=JSON.parse(i?e(a.response):a.response);Object.keys(o).forEach((e=>{if(e.startsWith("@"))delete o[e]}));Object.assign(items,o);++n;if(n===t){if(typeof r==="function"){r();console.log("Loaded "+Object.keys(o).length+" items!")}else{document.getElementById("loading-text").innerHTML="An error occurred";document.getElementById("loading-status").innerHTML="Try reloading the page, or try again another time...";return}}}),1)};a.responseType="";a.open("GET","/data/bundles/"+d+".json");a.send()}if(navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")){t=1;d("v19",0,false)}else{t=1;d("v19-encoded",0,true)}let r;export function onload(){return new Promise((e=>r=e))}